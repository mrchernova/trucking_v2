fjhfdkj

Что работает:
CRUD    User
RU      LegalEntity
CRUD    Driver
CRUD    Transport
CRUD    Order

По отдельности все работает. Но если будет заполнена CompletedOrder, удалить никого не получится


LegalEntity     создается при создании пользователя
                удаление не предусмотрено, т.к. удаляется вместе с пользователем

CompletedOrder - поля заполняются при выборе Заказа Перевозчиком, где Перевозчик должен указать нужного Водителя и Транспорт
                 поле report необязательно. Предназначено для дополнительной информации при выполнении заказа.
                 Удаление не предусмотрено
                 Редактировать можно только поле report
                 


Еще не работает:    
-Проверять роль юзера, чтобы разрешить ему доступ к нужным таблицам (условие выполнить после подключения security). 
    На данный момент пользователь имеет доступ ко всем таблицам, но сохранить сможет только те, которые разрешены для его роли. 
-Проверять статус авто, чтобы перевозчик случайно не выбрал Транспорт находящийся в ремонте.
-Проверять статус водителя, чтобы перевозчик случайно не выбрал Водителя на больничном.
-Прописать исключения / выводить информацию в логи (Выполнено частично)
-Изменить CompletedOrder. Сохранять в таблицу не ссылки на Заказ или Водителя, а скоприровать в нее определенные поля из Order,Driver,LegalEntity,Transport. 
    Это надо для возможности удаления, например, одного из водителей, при этом информация о нем остнется в таблице CompletedOrder



!!!
1. По запросу http://localhost:8080/orders/deal/{id}
    моделируем ситуацию, когда Перевозчик выбрал Заказ для исполнения
    В {id} передается номер заказа.  
    Какой Водитель и Транспорт будут задействованы, определяет Перевозчик. Пока заглушка (od_driver=1, id_transport=1)

2. При создании водителя, авто или заказа, в json-запросе указывать id для LegalEntity